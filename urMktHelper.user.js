// ==UserScript==
// @name           urMktHelper
// @namespace      http://userscripts.org/users/249211
// @include        http://www.urban-rivals.com/*/market/?show=0&action=buy&group=all&orderby=desc&sortby=date*
// @grant          GM_getValue
// @grant          GM_setValue
// @grant          GM_deleteValue
// @version        1.7
// @updateURL      https://github.com/kalup/URScripts/raw/master/urMktHelper.user.js
// ==/UserScript==

var l=GM_getValue("rapporto_acquisto",.8),m=GM_getValue("rapporto_vendita",.9),q=GM_getValue("buyCriterion",0),r=GM_getValue("sellRatio",.99),v=GM_getValue("minGain",0),w=GM_getValue("limitCr",!1),x=GM_getValue("limitCrRatio",.7),y=GM_getValue("limitRb",!1),C=GM_getValue("limitRbRatio",.8);1==q&&(m=r);1==q&&0>=v&&(v=20);1==q&&.7>r&&(r=.7);1<r&&(r=1);0>l?l=0:.95<l&&(l=.95);.7>m?m=.7:1<m&&(m=1);
var H=GM_getValue("kateTax",.95),I=GM_getValue("buyLowPrice",!0),J=GM_getValue("reloadTime",2E3),K=GM_getValue("imgDetectSafe",!0),L=GM_getValue("autoBuy",!1),M=GM_getValue("sound",!0),N=GM_getValue("alertMissed",!0),O=GM_getValue("isRunning",!1);GM_deleteValue("isRunning");function P(b){null!==b&&b.parentNode.removeChild(b)}function S(b){var c=document.createElement("canvas"),h=c.getContext("2d");c.width=b.width;c.height=b.height;h.drawImage(b,0,0);return h.getImageData(0,0,c.width,c.height)}
function T(b){var c;b=b.width;if(14==b||16==b)c=2;else if(21==b||24==b)c=3;else if(35==b||40==b)c=4;else if(42==b||48==b)c=5;else if(49==b||56==b)c=6;else if(63==b||72==b)c=7;else if(70==b||80==b)c=8;else if(77==b||88==b)c=9;return c}function U(b){for(var c,h=b.width,g=b.height,a=b.data,d=0;d<h;++d)for(b=0;b<g;++b)c=4*d+4*b*h,200>a[c+3]&&(a[c]=255,a[c+1]=255,a[c+2]=255),a[c+3]=255,128<a[c+2]?(a[c]=255,a[c+1]=255,a[c+2]=255):(a[c]=0,a[c+1]=0,a[c+2]=0)}
function V(b,c,h,g){function a(a,b){return 0===d[4*(b+c+(a+h)*t)]}var d=b.data,t=b.width;return"3g"==g?a(0,3)&&a(0,4)&&a(1,1)&&a(1,2)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,5)&&a(3,1)&&a(3,5)&&a(4,2)&&a(4,4)&&a(4,5)&&a(5,2)&&a(5,3)&&a(5,4)&&a(5,5)&&a(6,1)&&a(6,2)&&a(6,5)&&a(6,6)&&a(7,1)&&a(7,5)&&a(7,6)&&a(8,1)&&a(8,5)&&a(8,6)&&a(9,1)&&a(9,2)&&a(9,4)&&a(9,5)&&a(10,3)&&a(10,4)?8:a(0,3)&&a(0,4)&&a(1,1)&&a(1,2)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,5)&&a(3,1)&&a(3,5)&&a(3,6)&&a(4,1)&&a(4,5)&&a(4,6)&&a(5,1)&&a(5,2)&&a(5,
4)&&a(5,5)&&a(5,6)&&a(6,2)&&a(6,3)&&a(6,5)&&a(6,6)&&a(7,5)&&a(7,6)&&a(8,1)&&a(8,5)&&a(9,1)&&a(9,2)&&a(9,4)&&a(9,5)&&a(10,2)&&a(10,3)&&a(10,4)?9:a(0,3)&&a(0,4)&&a(1,2)&&a(1,3)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,2)&&a(2,5)&&a(3,1)&&a(3,5)&&a(3,6)&&a(4,1)&&a(4,5)&&a(4,6)&&a(5,1)&&a(5,5)&&a(5,6)&&a(6,1)&&a(6,5)&&a(6,6)&&a(7,1)&&a(7,5)&&a(7,6)&&a(8,1)&&a(8,2)&&a(8,5)&&a(9,2)&&a(9,3)&&a(9,4)&&a(9,5)&&a(10,3)&&a(10,4)?0:a(0,3)&&a(0,4)&&a(1,2)&&a(1,3)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,2)&&a(2,5)&&a(2,6)&&a(3,1)&&a(4,
1)&&a(4,4)&&a(5,1)&&a(5,2)&&a(5,5)&&a(6,1)&&a(6,2)&&a(6,6)&&a(7,1)&&a(7,2)&&a(7,6)&&a(8,1)&&a(8,2)&&a(8,5)&&a(8,6)&&a(9,2)&&a(9,3)&&a(9,4)&&a(9,5)&&a(10,3)&&a(10,4)?6:a(0,2)&&a(0,3)&&a(0,4)&&a(0,5)&&a(0,6)&&a(1,2)&&a(1,3)&&a(1,4)&&a(1,5)&&a(1,6)&&a(2,2)&&a(3,2)&&a(4,1)&&a(4,2)&&a(4,3)&&a(4,4)&&a(4,5)&&a(5,5)&&a(5,6)&&a(6,6)&&a(7,6)&&a(8,1)&&a(8,2)&&a(8,5)&&a(8,6)&&a(9,1)&&a(9,2)&&a(9,3)&&a(9,4)&&a(9,5)&&a(10,3)&&a(10,4)?5:a(0,3)&&a(0,4)&&a(1,1)&&a(1,2)&&a(1,3)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,5)&&a(3,
5)&&a(4,4)&&a(4,5)&&a(5,3)&&a(5,4)&&a(6,5)&&a(6,6)&&a(7,5)&&a(7,6)&&a(8,1)&&a(8,5)&&a(8,6)&&a(9,1)&&a(9,2)&&a(9,3)&&a(9,4)&&a(9,5)&&a(10,3)&&a(10,4)?3:a(0,3)&&a(0,4)&&a(1,1)&&a(1,2)&&a(1,3)&&a(1,4)&&a(1,5)&&a(2,1)&&a(2,5)&&a(2,6)&&a(3,5)&&a(3,6)&&a(4,5)&&a(4,6)&&a(5,4)&&a(5,5)&&a(6,3)&&a(6,4)&&a(7,2)&&a(7,3)&&a(8,2)&&a(9,1)&&a(9,2)&&a(9,3)&&a(9,4)&&a(9,5)&&a(9,6)&&a(10,1)&&a(10,2)&&a(10,3)&&a(10,4)&&a(10,5)&&a(10,6)?2:a(0,1)&&a(0,2)&&a(0,3)&&a(0,4)&&a(0,5)&&a(0,6)&&a(1,1)&&a(1,2)&&a(1,3)&&a(1,4)&&
a(1,5)&&a(1,6)&&a(2,5)&&a(3,4)&&a(3,5)&&a(4,4)&&a(5,3)&&a(5,4)&&a(6,3)&&a(7,3)&&a(8,3)&&a(9,2)&&a(9,3)&&a(10,2)&&a(10,3)?7:a(0,5)&&a(1,4)&&a(1,5)&&a(2,3)&&a(2,4)&&a(2,5)&&a(3,3)&&a(3,4)&&a(3,5)&&a(4,2)&&a(4,5)&&a(5,1)&&a(5,2)&&a(5,5)&&a(6,1)&&a(6,5)&&a(7,1)&&a(7,2)&&a(7,3)&&a(7,4)&&a(7,5)&&a(7,6)&&a(8,1)&&a(8,2)&&a(8,3)&&a(8,4)&&a(8,5)&&a(8,6)&&a(9,5)&&a(10,5)?4:a(0,4)&&a(1,3)&&a(1,4)&&a(2,2)&&a(2,3)&&a(2,4)&&a(3,1)&&a(3,2)&&a(3,4)&&a(4,4)&&a(5,4)&&a(6,4)&&a(7,4)&&a(8,4)&&a(9,4)&&a(10,4)?1:-1:K?a(0,
3)&&a(0,4)&&a(1,1)&&a(1,2)&&a(1,4)&&a(1,5)&&a(2,1)&&a(3,1)&&a(3,3)&&a(3,4)&&a(4,1)&&a(4,5)&&a(5,1)&&a(5,5)&&a(6,1)&&a(6,2)&&a(6,5)&&a(7,2)&&a(7,3)&&a(7,4)?6:a(0,2)&&a(0,3)&&a(1,1)&&a(1,4)&&a(2,1)&&a(2,4)&&a(3,2)&&a(3,3)&&a(3,4)&&a(4,1)&&a(4,4)&&a(4,5)&&a(5,1)&&a(5,5)&&a(6,1)&&a(6,4)&&a(6,5)&&a(7,2)&&a(7,3)?8:a(0,2)&&a(0,3)&&a(1,1)&&a(1,4)&&a(2,1)&&a(2,4)&&a(2,5)&&a(3,1)&&a(3,4)&&a(3,5)&&a(4,2)&&a(4,3)&&a(4,4)&&a(4,5)&&a(5,5)&&a(6,1)&&a(6,4)&&a(7,2)&&a(7,3)?9:a(0,2)&&a(0,3)&&a(0,4)&&a(0,5)&&a(1,2)&&
a(2,1)&&a(2,2)&&a(2,3)&&a(2,4)&&a(3,1)&&a(3,4)&&a(3,5)&&a(4,5)&&a(5,5)&&a(6,1)&&a(6,4)&&a(6,5)&&a(7,2)&&a(7,3)?5:a(0,4)&&a(1,3)&&a(1,4)&&a(2,2)&&a(2,3)&&a(2,4)&&a(3,2)&&a(3,4)&&a(4,1)&&a(4,4)&&a(5,0)&&a(5,1)&&a(5,2)&&a(5,3)&&a(5,4)&&a(5,5)&&a(6,4)&&a(7,4)?4:a(0,2)&&a(0,3)&&a(1,1)&&a(1,4)&&a(2,1)&&a(2,5)&&a(3,1)&&a(3,5)&&a(4,1)&&a(4,5)&&a(5,1)&&a(5,5)&&a(6,1)&&a(6,4)&&a(7,2)&&a(7,3)?0:a(0,3)&&a(1,2)&&a(1,3)&&a(2,1)&&a(2,3)&&a(3,3)&&a(4,3)&&a(5,3)&&a(6,3)&&a(7,3)?1:a(0,2)&&a(0,3)&&a(0,4)&&a(1,1)&&a(1,
4)&&a(1,5)&&a(2,5)&&a(3,4)&&a(4,3)&&a(4,4)&&a(5,2)&&a(6,1)&&a(6,2)&&a(7,1)&&a(7,2)&&a(7,3)&&a(7,4)&&a(7,5)?2:a(0,1)&&a(0,2)&&a(0,3)&&a(0,4)&&a(0,5)&&a(1,4)&&a(2,4)&&a(3,3)&&a(4,3)&&a(5,2)&&a(6,2)&&a(7,2)?7:a(0,2)&&a(0,3)&&a(1,1)&&a(1,4)&&a(2,4)&&a(3,3)&&a(3,4)&&a(4,4)&&a(4,5)&&a(5,5)&&a(6,1)&&a(6,4)&&a(6,5)&&a(7,2)&&a(7,3)?3:-1:a(0,3)&&a(0,4)&&a(1,5)&&a(3,1)&&a(3,3)&&a(4,1)&&a(7,4)?6:a(1,1)&&a(3,2)&&a(3,3)&&a(4,1)&&a(5,1)&&a(6,5)?8:a(1,1)&&a(2,1)&&a(4,2)&&a(4,3)&&a(4,5)&&a(6,4)?9:a(0,5)&&a(2,2)&&
a(2,3)&&a(3,1)&&a(3,4)&&a(5,5)&&a(7,2)?5:a(4,1)&&a(4,4)&&a(5,0)&&a(5,3)&&a(7,4)?4:a(2,5)&&a(4,1)&&a(5,1)&&a(5,5)&&a(6,1)?0:a(1,2)&&a(2,3)&&a(5,3)&&a(6,3)?1:a(1,5)&&a(5,2)&&a(6,2)&&a(7,4)&&a(7,5)?2:a(0,4)&&a(0,5)&&a(5,2)&&a(6,2)?7:a(0,2)&&a(1,4)&&a(3,4)&&a(4,5)&&a(6,1)&&a(7,2)?3:-1}
function W(b,c){var h,g;0==b.width%8?(h=8,g=0):(h=7,g=4);var a,d,t=0,u;d=b.width-4*Math.floor((c-1)/3);for(a=0;a<c;++a){d-=h;u=8==h?V(b,d,g,"3g"):V(b,d,g,"2g");if(-1==u)return-1;t+=Math.pow(10,a)*u;2==a%3&&(d-=h-4)}return t}P(document.getElementById("leftBanners"));P(document.getElementById("playMenuButton"));var X=parseInt(document.getElementById("playerInfoClintz").innerHTML.replace(/ /g,"")),Y=document.evaluate("//img[contains(@class,'character')]",document,null,6,null);for(i=0;i<Y.snapshotLength;++i)P(Y.snapshotItem(i));
function Z(){O&&(GM_setValue("isRunning",O),location.reload())}
window.addEventListener("load",function(){var b=document.createElement("br"),c=document.createElement("hr"),h=document.createElement("div"),g=document.createElement("button"),a=document.createElement("button"),d=document.createElement("div");c.setAttribute("noshade","");c.setAttribute("color","#792829");g.setAttribute("type","button");g.setAttribute("class","urBtn small orange");g.setAttribute("style","margin:5px");var t,u;t=function(){O=!0;Z();g.innerHTML="STOP";g.addEventListener("click",t,!1);
g.removeEventListener("click",u,!1)};u=function(){O=!1;GM_setValue("isRunning",!1);g.removeEventListener("click",u,!1);g.addEventListener("click",t,!1);g.innerHTML="START"};O?(g.addEventListener("click",u,!1),g.innerHTML="STOP"):(g.addEventListener("click",t,!1),g.innerHTML="START");a.setAttribute("type","button");a.setAttribute("class","urBtn small black");a.setAttribute("style","margin:5px");var Q,R,p;p=function(){document.getElementById("KS_saveButton").className="urBtn small green";J=document.getElementById("KS_reloadTime").value;
l=document.getElementById("KS_rapporto_acquisto").value;m=document.getElementById("KS_rapporto_vendita").value;K=document.getElementById("KS_imgDetectSafe").checked;M=document.getElementById("KS_sound").checked;L=document.getElementById("KS_autobuy").checked;v=document.getElementById("KS_minGain").value;q=document.querySelectorAll('input[name="KS_buyCriterion"]')[0].checked?0:1;r=document.getElementById("KS_sellRatio").value;H=document.getElementById("KS_kateTax").value;I=document.getElementById("KS_buyLowPrice").checked;
N=document.getElementById("KS_alertMissed").checked;w=document.getElementById("KS_limitCr").checked;x=document.getElementById("KS_limitCrRatio").value;y=document.getElementById("KS_limitRb").checked;C=document.getElementById("KS_limitRbRatio").value;0>l?l=0:.95<l&&(l=.95);.7>m?m=.7:1<m&&(m=1);0>x?x=0:x>l&&(x=l);0>C?C=0:C>l&&(C=l);GM_setValue("limitCr",w);GM_setValue("limitCrRatio",x);GM_setValue("limitRb",y);GM_setValue("limitRbRatio",C);GM_setValue("alertMissed",N);GM_setValue("reloadTime",J);GM_setValue("rapporto_acquisto",
l);GM_setValue("rapporto_vendita",m);GM_setValue("imgDetectSafe",K);GM_setValue("sound",M);GM_setValue("autoBuy",L);GM_setValue("minGain",0<v?v:0);GM_setValue("buyCriterion",q);GM_setValue("sellRatio",1<r?1:r);GM_setValue("kateTax",H);GM_setValue("buyLowPrice",I);minGainPercHTML=document.getElementById("KS_minGainPerc");minGainPercValue=Math.round(1E4*(m*H-l))/100;minGainPercHTML.innerHTML=minGainPercValue+"%";minGainPercHTML.style=0>minGainPercValue?"color:red":"";setTimeout(function(){document.getElementById("KS_saveButton").className=
"urBtn small orange"},200)};var A=document.createElement("button");A.setAttribute("type","button");A.setAttribute("class","urBtn small black");A.setAttribute("style","margin:5px;float:right");A.setAttribute("id","KS_logButton");A.innerHTML="LOG";A.addEventListener("click",function(){var a=document.createElement("button");a.setAttribute("type","button");a.setAttribute("class","urBtn small orange");a.setAttribute("style","margin:5px");a.setAttribute("id","KS_clearLogButton");a.innerHTML="Hide LOG";
a.addEventListener("click",R,!1);var b=document.createElement("button");b.setAttribute("type","button");b.setAttribute("class","urBtn small black");b.setAttribute("style","margin:5px;float:right");b.setAttribute("id","KS_clearLogButton");b.innerHTML="Clear LOG";b.addEventListener("click",function(){GM_setValue("priceErrorsImg","");d.innerHTML="";d.appendChild(a);d.appendChild(b)},!1);d.innerHTML=GM_getValue("priceErrorsImg","");d.appendChild(a);d.appendChild(b)},!1);var z=document.createElement("button");
z.setAttribute("type","button");z.setAttribute("class","urBtn small orange");z.setAttribute("style","margin:5px");z.setAttribute("id","KS_saveButton");z.innerHTML="Salva";z.addEventListener("click",p,!1);z.addEventListener("click",p,!1);Q=function(){a.removeEventListener("click",Q,!1);a.addEventListener("click",R,!1);d.setAttribute("class","marketClintzBox");d.setAttribute("style","padding-left: 5px;margin: 5px");d.innerHTML="Velocit\u00e0 Aggiornamento: <select id='KS_reloadTime' class='filterSelect'><option value='0'>0 sec - Medio Alto rischio ban</option><option value='500'>0.5 sec - Medio rischio ban</option><option value='2000'>2 sec - Medio basso rischio ban</option><option value='5000'>5 sec - Basso rischio ban</option><option value='10000'>10 sec - Bassissimo rischio ban</option></select><br><input type='radio' name='KS_buyCriterion' value='0' onchange='document.getElementById(\"KS_sellRatio\").disabled = true;document.getElementById(\"KS_rapporto_acquisto\").disabled = false;document.getElementById(\"KS_rapporto_vendita\").disabled = false'> Rapporto di acquisto [0 - 0.95]: <input id='KS_rapporto_acquisto' class='smallText' type='text' value='' size='4'> - Valore di vendita [0.7 - 1]: <input id='KS_rapporto_vendita' class='smallText' type='text' value='' size='4'>  - Guadagno minimo: <span id='KS_minGainPerc'></span><br><input type='radio' name='KS_buyCriterion' value='1' onchange='document.getElementById(\"KS_sellRatio\").disabled = false;document.getElementById(\"KS_rapporto_acquisto\").disabled = true;document.getElementById(\"KS_rapporto_vendita\").disabled = true'> Percentuale relativa prezzo suggerito [0.7 - 1]: <input id='KS_sellRatio' class='smallText' type='text' value='' size='4'><br>Guadagno minimo:  <input id='KS_minGain' class='smallText' type='text' value='' size='8'><br><input id='KS_limitCr' type='checkbox'  onclick='document.getElementById(\"KS_limitCrRatio\").disabled = !this.checked'>  Limita l'acquisto delle CR. Compra se costano meno di questo rapporto: <input id='KS_limitCrRatio' class='smallText' type='text' value='' size='4' disabled><br><input id='KS_limitRb' type='checkbox'  onclick='document.getElementById(\"KS_limitRbRatio\").disabled = !this.checked'>  Limita l'acquisto delle RB. Compra se costano meno di questo rapporto: <input id='KS_limitRbRatio' class='smallText' type='text' value='' size='4' disabled><br><input id='KS_imgDetectSafe' type='checkbox' checked=true>  Riconoscimento Sicuro (lento)<br><input id='KS_sound' type='checkbox' checked=true>  Suono<br><input id='KS_alertMissed' type='checkbox' checked=true>  Avvisa se si perde un'offerta<br><input id='KS_autobuy' type='checkbox'>  Acquisto Automatico<br><input id='KS_buyLowPrice' type='checkbox' checked=true>  Considera sempre le carte che costano meno di 170 clitnz<br>Tassa kate: <select id='KS_kateTax' class='filterSelect'><option value='0.95'>Tassa standard | 5%</option><option value='0.9525'>Gilda lvl 1 | -5%</option><option value='0.955'>Gilda lvl 2 | -10%</option><option value='0.9575'>Gilda lvl 3 | -15%</option><option value='0.96'>Gilda lvl 4 | -20%</option><option value='0.9625'>Gilda lvl 5 | -25%</option></select><br>";
d.appendChild(z);d.appendChild(A);h.appendChild(b);h.appendChild(d);document.getElementById("KS_kateTax").querySelector("option[value='"+H+"']").selected="selected";I||(document.getElementById("KS_buyLowPrice").checked=!1);L&&(document.getElementById("KS_autobuy").checked=!0);M||(document.getElementById("KS_sound").checked=!1);N||(document.getElementById("KS_alertMissed").checked=!1);K||(document.getElementById("KS_imgDetectSafe").checked=!1);0<v&&(document.getElementById("KS_minGain").value=v);.7<=
r&&(document.getElementById("KS_sellRatio").value=r);document.getElementById("KS_rapporto_acquisto").value=l;document.getElementById("KS_rapporto_vendita").value=m;document.getElementById("KS_reloadTime").querySelector("option[value='"+J+"']").selected="selected";1==q?(document.querySelectorAll('input[name="KS_buyCriterion"]')[1].checked=!0,document.getElementById("KS_rapporto_acquisto").disabled=!0,document.getElementById("KS_rapporto_vendita").disabled=!0):(document.querySelectorAll('input[name="KS_buyCriterion"]')[0].checked=
!0,document.getElementById("KS_sellRatio").disabled=!0);w&&(document.getElementById("KS_limitCr").checked=!0,document.getElementById("KS_limitCrRatio").disabled=!1);document.getElementById("KS_limitCrRatio").value=x;y&&(document.getElementById("KS_limitRb").checked=!0,document.getElementById("KS_limitRbRatio").disabled=!1);document.getElementById("KS_limitRbRatio").value=C;minGainPercHTML=document.getElementById("KS_minGainPerc");minGainPercValue=Math.round(1E4*(m*H-l))/100;minGainPercHTML.innerHTML=
minGainPercValue+"%";minGainPercHTML.style=0>minGainPercValue?"color:red":""};R=function(){a.removeEventListener("click",R,!1);a.addEventListener("click",Q,!1);h.removeChild(b);h.removeChild(d)};a.addEventListener("click",Q,!1);a.innerHTML="CONFIG";h.appendChild(g);h.appendChild(a);p=document.getElementById("contentPaddedContainerDiv");p.insertBefore(c,p.firstChild);p.insertBefore(h,p.firstChild);var D=document.createElement("div");D.setAttribute("style","color:#FF1111");D.innerHTML="<h1>ERROR: See LOG</h1>";
unsafeWindow.a&&alert("ATTENZIONE: il gioco ti sta richiedendo i captcha, ci\u00f2 potrebbe creare problemi,\nmeglio disattivare il bot e attendere un paio di minuti/ore prima di riattivarlo.");if(O&&!unsafeWindow.a){var f,c=!1;p="";var e,k,B,E,F,aa=document.evaluate("//div[@class='graph side1']",document,null,6,null),n=document.evaluate("//div[@class='marketRow']",document,null,6,null),G=document.evaluate("//div[contains(@id,'card')]/span[@class='boldText']/img",document,null,6,null);for(f=0;f<n.snapshotLength;++f)E=
aa.snapshotItem(f).textContent.replace(/\s/g,"").match(/\d+/g),E=void 0!==E[2]?.1*parseInt(E[0])+parseInt(E[2]):500,k=S(G.snapshotItem(3*f)),B=T(k),U(k),e=W(k,B),-1==e&&(console.log(G.snapshotItem(3*f).src),e=GM_getValue("priceErrorsImg",""),e+=G.snapshotItem(3*f).outerHTML+"<hr>",GM_setValue("priceErrorsImg",e),e=999999999999),k=S(G.snapshotItem(3*f+1)),B=T(k),U(k),k=W(k,B),-1==k&&(console.log(G.snapshotItem(3*f+1).src),e=GM_getValue("priceErrorsImg",""),e+=G.snapshotItem(3*f+1).outerHTML+"<hr>",
GM_setValue("priceErrorsImg",e),k=e=999999999999),999999999999==e&&n.snapshotItem(f).parentNode.insertBefore(D,n.snapshotItem(f)),F=document.evaluate(".//a[contains(@class,'name')]",n.snapshotItem(f),null,6,null).snapshotItem(0).innerHTML,B=" Cr"===F.substr(-3),F=" Rb"===F.substr(-3),convenient=k<=E&&(0==q&&e/k<=l&&(0>=v||Math.round(Math.max(199,Math.round(k*m))*H-e)>v)||1==q&&Math.round(Math.max(199,Math.round(k*m))*H-e)>v)&&(!B||!w||B&&e/k<=x)&&(!F||!y||F&&e/k<=C),e>X||!convenient&&(170<e||!I)?
(e>X&&convenient&&(c=!0,p+=n.snapshotItem(f).innerHTML.split('name">')[1].split("<")[0]+" "+e+"\n"),P(n.snapshotItem(f))):(125>=e&&(unsafeWindow.eval(document.evaluate(".//a[contains(@href,'javascript:buyCard')]",n.snapshotItem(f),null,6,null).snapshotItem(0).href),P(n.snapshotItem(f))),document.evaluate("div[@class='content']",n.snapshotItem(f),null,6,null).snapshotItem(0).innerHTML+=Math.max(199,Math.round(k*m))+"<p>"+e+" - "+Math.round(1E4*e/k)/100+"% - Guadagno: "+Math.round(Math.max(199,Math.round(k*
m))*H-e)+"</p>");n=document.evaluate("//div[@class='marketRow']",document,null,6,null);if(0===n.snapshotLength)setTimeout(Z,J);else{if(L)for(f=0;f<n.snapshotLength;++f)D=(new DOMParser).parseFromString(n.snapshotItem(f).innerHTML,"text/html"),unsafeWindow.eval(D.evaluate("//a[contains(@href,'javascript:buyCard')]",D,null,6,null).snapshotItem(0).href);f=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");
M&&f.play();u()}c&&N&&alert(p)}},!1);
